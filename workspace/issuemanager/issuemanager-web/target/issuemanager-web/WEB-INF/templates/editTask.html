<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org"
	xmlns:dt="http://github.com/dandelion/datatables"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout">

<head>
<title>Edit Task</title>
</head>

<body>
	<section class="content" layout:fragment="content">
		
		
		 <div class="jumbotron">
	             <h2 th:text="#{title_edit_task}"></h2>
	   	  </div>
		<br></br>
		<form action="#" class="form-inline" th:action="@{/editTask/save}" th:object="${task}" method="post">
		
			<input type="hidden" name="id" class="input-small" th:field="*{id}" value="${id}" />  
			
			<label for="groups" th:text="#{groups_list}"></label>
            <br></br>
            <select id="groupId" name="group.id">
            	 <option th:text="#{lookup_option}"></option>
                 <option th:each="g : ${groups}" th:value="${g.id}" th:text="${g.name}" th:attr="selected=${g.id == task.group.id ? 'true' : 'false'}"></option>
            </select>
			<br></br>
            <br></br>
			
            <div class="form-group required">
	            <div class="form-group">
	            	<label th:text="#{lbl_subject}"></label>	            
                </div>            	           
            </div>
            <br></br>
            
			<input type="text" name="subject" class="input-small" placeholder="Subject" th:field="*{subject}" th:value="${subject}"/> <br></br>
			
			 <div class="form-group required">
	            <div class="form-group">
	            	<label th:text="#{lbl_description}"></label>	            
                </div>            	    
            </div>
            <br></br>
            
			<input type="text" name="description" class="input-small" placeholder="Description" th:field="*{description}" th:value="${description}"/> <br></br> 
			
			<div class="form-group required">
	            <div class="form-group">
	            	<label th:text="#{lbl_duedate}"></label>	            
                </div>            	       
            </div>
            <br></br>    
            
			<input type="text" name="dueDate" class="input-small" placeholder="Due Date" th:field="*{dueDate}" th:value="${dueDate}"/> <br></br> 
			<br></br> 
			<button type="submit" class="btn btn-primary" th:text="#{btn_edit}" th:onclick="${'groupSelected()'}"></button>
			
		<script>
			function groupSelected(){

				  	var choose =  "انتخاب کنید";
					var e = document.getElementById("groupId").value;
					if(e != choose){						
						$('#groupId').val(e);
					}
					else{
						$('#groupId').val(null);
					}						
			}
		</script>
		</form>
	</section>
</body>
</html>
